<!--
SPDX-License-Identifier: Apache-2.0
SPDX-FileCopyrightText: 2024-2026 David Kleinhans, Jade University of Applied Sciences
-->

# Pre-Publication Checklist

This checklist helps prepare the ITSM Service Catalogue for GitHub publication.

## Before Publishing

### Security Review

- [ ] **Secrets removed**: No API keys, passwords, or tokens in code
- [ ] **env/itsm.env is gitignored**: Verify with `git status`
- [ ] **No hardcoded credentials**: Search for `password`, `secret`, `key`, `token`
- [ ] **Database passwords**: Only in docker-compose.yml (for internal Docker network)
- [ ] **SSL certificates not committed**: Check nginx/certs/ is empty or gitignored

### Configuration Files

- [ ] **.gitignore comprehensive**: Covers secrets, env files, __pycache__, etc.
- [ ] **.env.example created**: Documents all required environment variables
- [ ] **docker-compose.yml reviewed**: No sensitive data, uses env vars
- [ ] **Settings use environment variables**: SECRET_KEY, DB credentials, API keys

### Documentation

- [ ] **README.md complete**: Features, installation, authentication, license
- [ ] **LICENSE file present**: Apache-2.0 with copyright notice
- [ ] **NOTICE file present**: Attribution and third-party licenses
- [ ] **CONTRIBUTING.md updated**: University project notice, guidelines
- [ ] **SECURITY.md created**: Vulnerability reporting contact
- [ ] **SPDX headers added**: Key Python files have license identifiers

### Authentication Integration

- [ ] **LOGIN_URL = '/sso-login/'** in production settings
- [ ] **AUTHENTICATION_BACKENDS** includes RemoteUserBackend
- [ ] **RemoteUserMiddleware** properly configured
- [ ] **Logout redirects to /oauth2/sign_out?rd=/**
- [ ] **Edge-Auth Stack reference** in README.md

### Django Security Settings

- [ ] **DEBUG = False** by default in production
- [ ] **ALLOWED_HOSTS** configured via environment
- [ ] **CSRF_TRUSTED_ORIGINS** configured via environment
- [ ] **SESSION_COOKIE_SECURE = True** in production
- [ ] **CSRF_COOKIE_SECURE = True** in production
- [ ] **SECRET_KEY from environment** (auto-generated by entrypoint.sh)

### Code Quality

- [ ] **No TODO/FIXME comments** with sensitive info
- [ ] **Test data is generic**: No real organization data
- [ ] **Logging doesn't expose secrets**: Check logger calls
- [ ] **Error messages are safe**: No internal paths or config exposed

## GitHub Repository Setup

### Repository Settings

- [ ] **Repository visibility**: Public (or Private if needed)
- [ ] **Description**: "Django-based IT Service Management service catalogue"
- [ ] **Topics**: django, itsm, service-catalogue, keycloak, docker
- [ ] **License**: Apache-2.0

### Branch Protection (Recommended)

- [ ] Protect `main` branch
- [ ] Require pull request reviews
- [ ] Require status checks to pass

### Files to Verify Before Push

```bash
# Check for secrets (should return nothing sensitive)
git diff --cached | grep -i "password\|secret\|key\|token"

# Verify .gitignore is working
git status

# Check no env files are staged
git diff --cached --name-only | grep -E "\.env$|itsm\.env$"
```

## Post-Publication

- [ ] **Update Edge-Auth Stack docs** with link to this repo
- [ ] **Replace YOUR_USERNAME** in documentation with actual GitHub username
- [ ] **Test fresh clone** and deployment on a new system
- [ ] **Create release tag** (e.g., v1.0.0)

## Notes

- The actual `env/itsm.env` file with real credentials is gitignored
- SSL certificates should be generated on deployment, not committed
- User-uploaded files (`user_files/` at project root) are organization-specific and gitignored
- Sample files in `apps/itsm/user_files/` are tracked as templates
